"""
Assignment 3 - BMI Calculator using Properties

This program demonstrates object-oriented programming by using
class properties to store height and weight values. BMI is calculated
automatically through a read-only property.
"""


class BMI:
    """Stores body measurements and calculates BMI using properties."""

    LBS_TO_KG = 0.453592
    IN_TO_M = 0.0254
    FT_TO_IN = 12

    def __init__(self, *, feet=0, inches=0, pounds=None,
                 kilograms=None, meters=None):
        self._feet = feet
        self._inches = inches
        self._pounds = pounds
        self._kilograms = kilograms
        self._meters = meters

    # height properties
    @property
    def feet(self):
        return self._feet

    @property
    def inches(self):
        return self._inches

    @property
    def meters(self):
        if self._meters is not None:
            return self._meters
        total_inches = (self._feet * self.FT_TO_IN) + self._inches
        return total_inches * self.IN_TO_M

    # weight properties
    @property
    def pounds(self):
        return self._pounds

    @property
    def kilograms(self):
        if self._kilograms is not None:
            return self._kilograms
        if self._pounds is not None:
            return self._pounds * self.LBS_TO_KG
        return None

    # read-only BMI property
    @property
    def bmi(self):
        return round(self.kilograms / (self.meters ** 2), 2)


def main():
    print("=== BMI Calculator ===")
    choice = input("Metric (M) or US (U)? ").upper()

    if choice == "M":
        kg = float(input("Weight (kg): "))
        m = float(input("Height (m): "))
        person = BMI(kilograms=kg, meters=m)

    elif choice == "U":
        lbs = float(input("Weight (lbs): "))
        ft = int(input("Feet: "))
        inch = int(input("Inches: "))
        person = BMI(pounds=lbs, feet=ft, inches=inch)

    else:
        print("Invalid choice")
        return

    print("Your BMI is:", person.bmi)


if __name__ == "__main__":
    main()
